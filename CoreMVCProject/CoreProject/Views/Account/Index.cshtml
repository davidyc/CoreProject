@model CoreProject.Models.ViewModel.UserAccountViewModel

@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



<div class="row">
    <div class="col-sm-6">
        <h1>Details about @User.Identity.Name</h1>
        <div id="UserMainInfoDiv">
            <h4>User Main Info</h4>
            <hr />
            <dl class="row">
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.User.Login)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.User.Login)
                </dd>

            </dl>
            <a class="btn btn-primary" asp-action="ChangePassword" asp-route-id="@Model.User.Id">Change Password</a>
            <a class="btn btn-primary" asp-action="ChangeLogin" asp-route-id="@Model.User.Id">Change Login</a>
        </div>

        <div id="UserAddInfoDiv">
            <h4>User Additional Info</h4>
            <hr />
            <dl class="row">
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.User.Email)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.User.Email)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.User.PhoneNumber)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.User.PhoneNumber)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.User.DateBorn)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.User.DateBorn)
                </dd>
            </dl>
            <a class="btn btn-primary" asp-action="Edit" asp-route-id="@Model.User.Id">Edit</a>
        </div>
    </div>

    <div class="col-sm-6">
        <h1>Additional services</h1>
        @if (Model.User.UserAdditionalInfo == null || Model.User.UserAdditionalInfo.City == null)
        {
            <h4>No informaion about user city</h4>
            <hr />
            <p>No informaion</p>
        }
        else
        {
            <div class="row">
                <div class="col-sm-6">
                    <h4 id="CITYname">Weather</h4>
                </div>
                <div class="col-sm-6" id="SetCityBTN">
                    <a class="btn btn-primary" asp-action="ChangeUserCity">Set city</a>
                </div>
            </div>
            <hr />
            @if (Model.Weather.Cod == "404")
            {
                <p>Service cann't get information</p>
            }
            else
            {
                <div class="row">                   
                        <div class="container-fluid">
                            <div class="card p-4">
                                <div class="row">
                                    <div class="temp-details col-md-4">
                                        <h6>@Model.Weather.Name</h6>
                                        <h1 class="mb-0 font-weight-bold" id="heading">@Model.Weather.Main.Temp° C </h1>
                                        <span class="small grey"> @Model.Weather.weather?.FirstOrDefault().Main</span>
                                    </div>

                                    <div class="temp-details col-md-4">
                                        <p class="my-1">
                                            <img src="https://i.imgur.com/B9kqOzp.png" height="17px">
                                            <span>  @Model.Weather.Wind.Speed m/s </span>
                                        </p>
                                        <p class="my-1">
                                            <i class="fa fa-tint mr-2" aria-hidden="true"></i>
                                            <span> @Model.Weather.Main.Humidity% </span>
                                        </p>
                                        <p class="my-1">
                                            <img src="https://i.imgur.com/wGSJ8C5.png" height="17px">
                                            <span> 0h </span>
                                        </p>
                                    </div>
                                    @{
//add more icon
                                        if (@Model.Weather.weather?.FirstOrDefault()?.Main == "Clear")
                                        {
                                            <div class="col-md-4"> <img src=" https://previews.123rf.com/images/bentosi/bentosi1811/bentosi181100030/127324934-sunny-weather-icon-sun-icon-vector-illustration-flat-design.jpg" width="100px"> </div>
                                        }
                                        else
                                        {
                                            <div class="col-md-4"> <img src="https://i.imgur.com/Qw7npIg.png" width="100px"> </div>
                                        }
                                    }

                                </div>
                            </div>
                        </div>                       
                </div>
            }
        }
    </div>
</div>
